<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <script> window.FontAwesomeConfig = { autoReplaceSvg: 'nest'};</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>::-webkit-scrollbar { display: none;}
    * { font-family: 'Inter', sans-serif; }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        dark: {
                            900: '#0a0a0a',
                            800: '#1a1a1a',
                            700: '#2a2a2a',
                            600: '#3a3a3a'
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-dark-900 text-white overflow-x-hidden">

<!-- Status Bar -->
<div id="status-bar" class="flex justify-between items-center px-4 py-2 bg-dark-800 text-xs text-gray-300">
    <div class="flex items-center space-x-1">
        <div class="w-1 h-1 bg-white rounded-full"></div>
        <div class="w-1 h-1 bg-white rounded-full"></div>
        <div class="w-1 h-1 bg-gray-600 rounded-full"></div>
        <span class="ml-2">Verizon</span>
    </div>
    <div class="font-medium">9:41</div>
    <div class="flex items-center space-x-1">
        <i class="fa-solid fa-signal text-xs"></i>
        <i class="fa-solid fa-wifi text-xs"></i>
        <div class="w-6 h-3 border border-white rounded-sm">
            <div class="w-4 h-2 bg-white rounded-sm m-0.5"></div>
        </div>
    </div>
</div>

<!-- App Header with Processing Status -->
<div id="app-header" class="flex items-center justify-between px-6 py-4 bg-dark-800 border-b border-dark-600">
    <div class="flex items-center space-x-3">
        <button class="w-8 h-8 bg-dark-600 rounded-full flex items-center justify-center" onclick="goBack()">
            <i class="fa-solid fa-arrow-left text-gray-300 text-sm"></i>
        </button>
        <div>
            <h1 class="text-lg font-semibold text-white">Processing Video</h1>
            <p class="text-xs text-gray-400">AI Analysis in Progress</p>
        </div>
    </div>
    <div class="flex items-center space-x-3">
        <div class="flex items-center space-x-2">
            <div class="w-2 h-2 bg-blue-500 rounded-full animate-pulse"></div>
            <span class="text-sm text-blue-400 font-medium">Active</span>
        </div>
        <button class="w-8 h-8 bg-dark-600 rounded-full flex items-center justify-center">
            <i class="fa-solid fa-ellipsis-vertical text-gray-300 text-sm"></i>
        </button>
    </div>
</div>

<!-- Video Preview Section -->
<div id="video-preview" class="px-6 py-6">
    <div class="bg-dark-700 rounded-2xl p-4 border border-dark-600 mb-6">
        <div class="flex items-center space-x-4 mb-4">
            <div class="w-16 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center">
                <i class="fa-solid fa-video text-white text-lg"></i>
            </div>
            <div class="flex-1">
                <h3 class="text-white font-semibold" id="video-name">video_v1.mp4</h3>
                <p class="text-gray-400 text-sm" id="video-info">Duration: 2:15 • Size: 375 MB</p>
            </div>
            <div class="text-right">
                <p class="text-purple-400 text-sm font-medium">1080p</p>
                <p class="text-gray-400 text-xs">H.264</p>
            </div>
        </div>
        
        <!-- Video Player -->
        <div class="w-full h-40 bg-dark-600 rounded-xl mb-4 border border-dark-500 relative overflow-hidden">
            <video 
                id="video-player" 
                class="w-full h-full object-cover rounded-xl" 
                controls 
                preload="metadata"
                poster="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDIwMCAxMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMTIwIiBmaWxsPSIjM0EzQTNBIi8+CjxwYXRoIGQ9Ik04MCA0MEwxMjAgNjBMMTgwIDQwVjgwTDgwIDYwVjQwWiIgZmlsbD0iIzlDQTNBRiIvPgo8L3N2Zz4K">
                <source id="video-source" src="" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div id="video-overlay" class="absolute inset-0 flex items-center justify-center bg-black/30 backdrop-blur-sm">
                <div class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm">
                    <i class="fa-solid fa-play text-white text-lg ml-1"></i>
                </div>
            </div>
        </div>
        
        <!-- Video Metadata -->
        <div class="grid grid-cols-3 gap-4">
            <div class="text-center">
                <p class="text-white font-semibold">30fps</p>
                <p class="text-gray-400 text-xs">Frame Rate</p>
            </div>
            <div class="text-center">
                <p class="text-white font-semibold">4.2k</p>
                <p class="text-gray-400 text-xs">Bitrate</p>
            </div>
            <div class="text-center">
                <p class="text-white font-semibold">Stereo</p>
                <p class="text-gray-400 text-xs">Audio</p>
            </div>
        </div>
    </div>
</div>

<!-- Processing Status Section -->
<div id="processing-status" class="px-6 mb-6">
    <div class="bg-gradient-to-r from-dark-700 to-dark-600 rounded-2xl p-6 border border-dark-600">
        <div class="flex items-center justify-between mb-4">
            <h2 class="text-xl font-semibold text-white">Analysis Progress</h2>
            <div class="flex items-center space-x-2">
                <div class="w-2 h-2 bg-blue-500 rounded-full animate-pulse"></div>
                <span class="text-sm text-blue-400 font-medium">Processing</span>
            </div>
        </div>
        
        <!-- Current Step Display -->
        <div id="current-step" class="bg-dark-800 rounded-xl p-4 mb-6 border border-dark-600">
            <div class="flex items-center space-x-4">
                <div class="w-12 h-12 bg-blue-500/20 rounded-xl flex items-center justify-center">
                    <div class="w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"></div>
                </div>
                <div class="flex-1">
                    <h3 id="step-title" class="text-white font-semibold text-lg">Detecting shots...</h3>
                    <p id="step-description" class="text-gray-400 text-sm">Analyzing video for scene changes and transitions</p>
                </div>
                <div class="text-right">
                    <p id="step-progress" class="text-blue-400 font-semibold">23%</p>
                    <p class="text-gray-400 text-xs">Complete</p>
                </div>
            </div>
            
            <!-- Progress Bar -->
            <div class="w-full bg-dark-600 rounded-full h-2 mt-4">
                <div id="progress-bar" class="bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-500" style="width: 23%"></div>
            </div>
        </div>
        
        <!-- Estimated Time -->
        <div class="flex items-center justify-between text-sm">
            <div class="flex items-center space-x-2">
                <i class="fa-solid fa-clock text-purple-400"></i>
                <span class="text-gray-400">Estimated time remaining:</span>
            </div>
            <span id="time-remaining" class="text-white font-medium">~2 min 15 sec</span>
        </div>
    </div>
</div>

<!-- Processing Steps Overview -->
<div id="steps-overview" class="px-6 mb-6">
    <h3 class="text-lg font-semibold text-white mb-4">Processing Pipeline</h3>
    
    <div class="space-y-3">
        <!-- Step 1: Detecting shots -->
        <div id="step-1" class="bg-dark-700 rounded-xl p-4 border-l-4 border-blue-500 border border-dark-600">
            <div class="flex items-center space-x-4">
                <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center">
                    <div class="w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></div>
                </div>
                <div class="flex-1">
                    <h4 class="text-white font-semibold">Detecting shots</h4>
                    <p class="text-gray-400 text-sm">Identifying scene boundaries and cuts • 23% complete</p>
                </div>
                <div class="text-blue-400 text-sm font-medium">In Progress</div>
            </div>
        </div>
        
        <!-- Step 2: Sampling keyframes -->
        <div id="step-2" class="bg-dark-700 rounded-xl p-4 border border-dark-600">
            <div class="flex items-center space-x-4">
                <div class="w-8 h-8 bg-gray-600 rounded-full flex items-center justify-center">
                    <span class="text-white text-sm font-medium">2</span>
                </div>
                <div class="flex-1">
                    <h4 class="text-gray-400 font-semibold">Sampling keyframes</h4>
                    <p class="text-gray-500 text-sm">Extracting representative frames from each shot</p>
                </div>
                <div class="text-gray-500 text-sm">Pending</div>
            </div>
        </div>
        
        <!-- Step 3: Loading CLIP -->
        <div id="step-3" class="bg-dark-700 rounded-xl p-4 border border-dark-600">
            <div class="flex items-center space-x-4">
                <div class="w-8 h-8 bg-gray-600 rounded-full flex items-center justify-center">
                    <span class="text-white text-sm font-medium">3</span>
                </div>
                <div class="flex-1">
                    <h4 class="text-gray-400 font-semibold">Loading CLIP</h4>
                    <p class="text-gray-500 text-sm">Initializing vision-language model</p>
                </div>
                <div class="text-gray-500 text-sm">Pending</div>
            </div>
        </div>
        
        <!-- Step 4: Embedding -->
        <div id="step-4" class="bg-dark-700 rounded-xl p-4 border border-dark-600">
            <div class="flex items-center space-x-4">
                <div class="w-8 h-8 bg-gray-600 rounded-full flex items-center justify-center">
                    <span class="text-white text-sm font-medium">4</span>
                </div>
                <div class="flex-1">
                    <h4 class="text-gray-400 font-semibold">Embedding</h4>
                    <p class="text-gray-500 text-sm">Generating feature vectors for analysis</p>
                </div>
                <div class="text-gray-500 text-sm">Pending</div>
            </div>
        </div>
        
        <!-- Step 5: Final Analysis -->
        <div id="step-5" class="bg-dark-700 rounded-xl p-4 border border-dark-600">
            <div class="flex items-center space-x-4">
                <div class="w-8 h-8 bg-gray-600 rounded-full flex items-center justify-center">
                    <span class="text-white text-sm font-medium">5</span>
                </div>
                <div class="flex-1">
                    <h4 class="text-gray-400 font-semibold">Generating insights</h4>
                    <p class="text-gray-500 text-sm">Creating comprehensive analysis report</p>
                </div>
                <div class="text-gray-500 text-sm">Pending</div>
            </div>
        </div>
    </div>
</div>

<!-- Real-time Stats -->
<div id="realtime-stats" class="px-6 mb-6">
    <h3 class="text-lg font-semibold text-white mb-4">Processing Statistics</h3>
    
    <div class="grid grid-cols-2 gap-3 mb-4">
        <div class="bg-dark-700 rounded-xl p-4 border border-dark-600">
            <div class="text-center">
                <div class="w-10 h-10 bg-purple-500/20 rounded-lg flex items-center justify-center mx-auto mb-2">
                    <i class="fa-solid fa-film text-purple-400"></i>
                </div>
                <p id="shots-detected" class="text-2xl font-bold text-white">12</p>
                <p class="text-xs text-gray-400">Shots Detected</p>
            </div>
        </div>
        
        <div class="bg-dark-700 rounded-xl p-4 border border-dark-600">
            <div class="text-center">
                <div class="w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center mx-auto mb-2">
                    <i class="fa-solid fa-image text-blue-400"></i>
                </div>
                <p id="keyframes-extracted" class="text-2xl font-bold text-white">47</p>
                <p class="text-xs text-gray-400">Keyframes</p>
            </div>
        </div>
        
        <div class="bg-dark-700 rounded-xl p-4 border border-dark-600">
            <div class="text-center">
                <div class="w-10 h-10 bg-green-500/20 rounded-lg flex items-center justify-center mx-auto mb-2">
                    <i class="fa-solid fa-brain text-green-400"></i>
                </div>
                <p id="embeddings-generated" class="text-2xl font-bold text-white">0</p>
                <p class="text-xs text-gray-400">Embeddings</p>
            </div>
        </div>
        
        <div class="bg-dark-700 rounded-xl p-4 border border-dark-600">
            <div class="text-center">
                <div class="w-10 h-10 bg-orange-500/20 rounded-lg flex items-center justify-center mx-auto mb-2">
                    <i class="fa-solid fa-chart-line text-orange-400"></i>
                </div>
                <p id="accuracy-score" class="text-2xl font-bold text-white">--</p>
                <p class="text-xs text-gray-400">Accuracy</p>
            </div>
        </div>
    </div>
</div>

<!-- Processing Details -->
<div id="processing-details" class="px-6 mb-6">
    <h3 class="text-lg font-semibold text-white mb-4">Processing Details</h3>
    
    <div class="bg-dark-700 rounded-xl p-4 border border-dark-600">
        <div class="space-y-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-3 h-3 bg-blue-500 rounded-full animate-pulse"></div>
                    <span class="text-white text-sm">CPU Usage</span>
                </div>
                <span class="text-gray-400 text-sm">67%</span>
            </div>
            
            <div class="w-full bg-dark-600 rounded-full h-2">
                <div class="bg-blue-500 h-2 rounded-full" style="width: 67%"></div>
            </div>
            
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-3 h-3 bg-purple-500 rounded-full"></div>
                    <span class="text-white text-sm">Memory Usage</span>
                </div>
                <span class="text-gray-400 text-sm">2.1 GB / 4 GB</span>
            </div>
            
            <div class="w-full bg-dark-600 rounded-full h-2">
                <div class="bg-purple-500 h-2 rounded-full" style="width: 52.5%"></div>
            </div>
            
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                    <span class="text-white text-sm">Storage</span>
                </div>
                <span class="text-gray-400 text-sm">45.2 MB processed</span>
            </div>
        </div>
    </div>
</div>

<!-- Processing Log -->
<div id="processing-log" class="px-6 mb-6">
    <h3 class="text-lg font-semibold text-white mb-4">Processing Log</h3>
    
    <div class="bg-dark-700 rounded-xl p-4 border border-dark-600">
        <div class="space-y-3 max-h-40 overflow-y-auto">
            <div class="flex items-start space-x-3">
                <div class="w-2 h-2 bg-green-500 rounded-full mt-2"></div>
                <div class="flex-1">
                    <p class="text-white text-sm">Video uploaded successfully</p>
                    <p class="text-gray-400 text-xs">9:41:23 AM</p>
                </div>
            </div>
            
            <div class="flex items-start space-x-3">
                <div class="w-2 h-2 bg-green-500 rounded-full mt-2"></div>
                <div class="flex-1">
                    <p class="text-white text-sm">Initializing analysis pipeline</p>
                    <p class="text-gray-400 text-xs">9:41:25 AM</p>
                </div>
            </div>
            
            <div class="flex items-start space-x-3">
                <div class="w-2 h-2 bg-blue-500 rounded-full mt-2 animate-pulse"></div>
                <div class="flex-1">
                    <p class="text-white text-sm">Shot detection in progress...</p>
                    <p class="text-gray-400 text-xs">9:41:27 AM</p>
                </div>
            </div>
            
            <div class="flex items-start space-x-3">
                <div class="w-2 h-2 bg-blue-500 rounded-full mt-2 animate-pulse"></div>
                <div class="flex-1">
                    <p class="text-white text-sm">Found 12 distinct shots</p>
                    <p class="text-gray-400 text-xs">9:41:45 AM</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Control Actions -->
<div id="control-actions" class="px-6 mb-6">
    <div class="grid grid-cols-2 gap-3">
        <button id="pause-btn" class="bg-yellow-600 hover:bg-yellow-700 text-white font-semibold py-3 px-4 rounded-xl flex items-center justify-center space-x-2 transition-colors">
            <i class="fa-solid fa-pause"></i>
            <span>Pause</span>
        </button>
        
        <button id="cancel-btn" class="bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-4 rounded-xl flex items-center justify-center space-x-2 transition-colors">
            <i class="fa-solid fa-stop"></i>
            <span>Cancel</span>
        </button>
    </div>
</div>

<!-- Quick Settings -->
<div id="quick-settings" class="px-6 mb-6">
    <h3 class="text-lg font-semibold text-white mb-4">Processing Options</h3>
    
    <div class="space-y-3">
        <div class="bg-dark-700 rounded-xl p-4 border border-dark-600">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-purple-500/20 rounded-lg flex items-center justify-center">
                        <i class="fa-solid fa-gauge-high text-purple-400"></i>
                    </div>
                    <div>
                        <h4 class="text-white font-medium">Processing Speed</h4>
                        <p class="text-gray-400 text-sm">High quality mode</p>
                    </div>
                </div>
                <div class="flex items-center space-x-2">
                    <span class="text-sm text-gray-400">Fast</span>
                    <div class="w-12 h-6 bg-dark-600 rounded-full relative">
                        <div class="w-5 h-5 bg-purple-500 rounded-full absolute top-0.5 right-0.5 transition-transform"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="bg-dark-700 rounded-xl p-4 border border-dark-600">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center">
                        <i class="fa-solid fa-eye text-blue-400"></i>
                    </div>
                    <div>
                        <h4 class="text-white font-medium">Visual Analysis</h4>
                        <p class="text-gray-400 text-sm">Deep object recognition</p>
                    </div>
                </div>
                <div class="flex items-center space-x-2">
                    <span class="text-sm text-gray-400">Off</span>
                    <div class="w-12 h-6 bg-dark-600 rounded-full relative">
                        <div class="w-5 h-5 bg-blue-500 rounded-full absolute top-0.5 right-0.5 transition-transform"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="bg-dark-700 rounded-xl p-4 border border-dark-600">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-green-500/20 rounded-lg flex items-center justify-center">
                        <i class="fa-solid fa-volume-up text-green-400"></i>
                    </div>
                    <div>
                        <h4 class="text-white font-medium">Audio Analysis</h4>
                        <p class="text-gray-400 text-sm">Speech and sound detection</p>
                    </div>
                </div>
                <div class="flex items-center space-x-2">
                    <span class="text-sm text-gray-400">Off</span>
                    <div class="w-12 h-6 bg-dark-600 rounded-full relative">
                        <div class="w-5 h-5 bg-green-500 rounded-full absolute top-0.5 right-0.5 transition-transform"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Recent Activity -->
<div id="recent-activity" class="px-6 mb-6">
    <h3 class="text-lg font-semibold text-white mb-4">Recent Processing</h3>
    
    <div class="space-y-3">
        <div class="bg-dark-700 rounded-xl p-4 border border-dark-600">
            <div class="flex items-center space-x-4">
                <div class="w-12 h-12 bg-gradient-to-br from-green-500 to-teal-600 rounded-lg flex items-center justify-center">
                    <i class="fa-solid fa-check text-white"></i>
                </div>
                <div class="flex-1">
                    <h4 class="text-white font-medium">product_demo_v2.mp4</h4>
                    <p class="text-gray-400 text-sm">Completed 1 hour ago • 94% accuracy</p>
                </div>
                <button class="text-purple-400 text-sm font-medium">View</button>
            </div>
        </div>
        
        <div class="bg-dark-700 rounded-xl p-4 border border-dark-600">
            <div class="flex items-center space-x-4">
                <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center">
                    <i class="fa-solid fa-check text-white"></i>
                </div>
                <div class="flex-1">
                    <h4 class="text-white font-medium">social_content_analysis.mp4</h4>
                    <p class="text-gray-400 text-sm">Completed 3 hours ago • 87% accuracy</p>
                </div>
                <button class="text-purple-400 text-sm font-medium">View</button>
            </div>
        </div>
        
        <div class="bg-dark-700 rounded-xl p-4 border border-dark-600">
            <div class="flex items-center space-x-4">
                <div class="w-12 h-12 bg-gradient-to-br from-orange-500 to-red-600 rounded-lg flex items-center justify-center">
                    <i class="fa-solid fa-exclamation-triangle text-white"></i>
                </div>
                <div class="flex-1">
                    <h4 class="text-white font-medium">tutorial_series_part1.mp4</h4>
                    <p class="text-gray-400 text-sm">Failed 5 hours ago • File format error</p>
                </div>
                <button class="text-red-400 text-sm font-medium">Retry</button>
            </div>
        </div>
    </div>
</div>

<!-- System Resources -->
<div id="system-resources" class="px-6 mb-20">
    <h3 class="text-lg font-semibold text-white mb-4">System Resources</h3>
    
    <div class="bg-dark-700 rounded-xl p-4 border border-dark-600">
        <div class="grid grid-cols-2 gap-4 mb-4">
            <div class="text-center">
                <div class="w-16 h-16 mx-auto mb-2 relative">
                    <svg class="w-16 h-16 transform -rotate-90" viewBox="0 0 36 36">
                        <path class="text-dark-600" stroke="currentColor" stroke-width="3" fill="none" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"></path>
                        <path id="cpu-circle" class="text-blue-500" stroke="currentColor" stroke-width="3" fill="none" stroke-dasharray="0, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"></path>
                    </svg>
                    <div class="absolute inset-0 flex items-center justify-center">
                        <span id="cpu-percent" class="text-white text-sm font-semibold">0%</span>
                    </div>
                </div>
                <p class="text-gray-400 text-sm">CPU</p>
            </div>
            
            <div class="text-center">
                <div class="w-16 h-16 mx-auto mb-2 relative">
                    <svg class="w-16 h-16 transform -rotate-90" viewBox="0 0 36 36">
                        <path class="text-dark-600" stroke="currentColor" stroke-width="3" fill="none" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"></path>
                        <path id="memory-circle" class="text-purple-500" stroke="currentColor" stroke-width="3" fill="none" stroke-dasharray="0, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"></path>
                    </svg>
                    <div class="absolute inset-0 flex items-center justify-center">
                        <span id="memory-percent" class="text-white text-sm font-semibold">0%</span>
                    </div>
                </div>
                <p class="text-gray-400 text-sm">Memory</p>
            </div>
        </div>
        
        <div class="space-y-3">
            <div class="flex items-center justify-between text-sm">
                <span class="text-gray-400">GPU Acceleration</span>
                <span class="text-green-400">Enabled</span>
            </div>
            <div class="flex items-center justify-between text-sm">
                <span class="text-gray-400">Processing Threads</span>
                <span class="text-white">8 cores</span>
            </div>
            <div class="flex items-center justify-between text-sm">
                <span class="text-gray-400">Available Storage</span>
                <span class="text-white">3.8 GB</span>
            </div>
            <div class="flex items-center justify-between text-sm">
                <span class="text-gray-400">Battery Level</span>
                <span id="battery-level" class="text-white">22%</span>
            </div>
            <div class="flex items-center justify-between text-sm">
                <span class="text-gray-400">Device Temperature</span>
                <span id="device-temperature" class="text-white">37°C</span>
            </div>
            <div class="flex items-center justify-between text-sm">
                <span class="text-gray-400">Memory Usage</span>
                <span id="memory-usage" class="text-white">0 MB</span>
            </div>
        </div>
    </div>
</div>

<!-- Bottom Navigation -->
<div id="bottom-navigation" class="fixed bottom-0 left-0 right-0 bg-dark-800 border-t border-dark-600 px-6 py-3">
    <div class="flex items-center justify-between">
        <button class="flex flex-col items-center space-y-1 text-gray-400" onclick="navigateTo('home')">
            <i class="fa-solid fa-home text-lg"></i>
            <span class="text-xs font-medium">Home</span>
        </button>
        
        <button class="flex flex-col items-center space-y-1 text-gray-400" onclick="navigateTo('explore')">
            <i class="fa-solid fa-compass text-lg"></i>
            <span class="text-xs font-medium">Explore</span>
        </button>
        
        <button class="flex flex-col items-center space-y-1 text-purple-400" onclick="navigateTo('upload')">
            <i class="fa-solid fa-plus-circle text-lg"></i>
            <span class="text-xs font-medium">Upload</span>
        </button>
        
        <button class="flex flex-col items-center space-y-1 text-gray-400" onclick="navigateTo('research')">
            <i class="fa-solid fa-search text-lg"></i>
            <span class="text-xs font-medium">Research</span>
        </button>
        
        <button class="flex flex-col items-center space-y-1 text-gray-400" onclick="navigateTo('profile')">
            <i class="fa-solid fa-user text-lg"></i>
            <span class="text-xs font-medium">Profile</span>
        </button>
    </div>
</div>

<script>
// Android WebView interface functions
function goBack() {
    if (window.AndroidInterface) {
        window.AndroidInterface.goBack();
    } else {
        window.history.back();
    }
}

function navigateTo(section) {
    if (window.AndroidInterface) {
        window.AndroidInterface.navigateTo(section);
    } else {
        console.log('Navigate to:', section);
    }
}

// Processing simulation
const steps = [
    {
        title: "Detecting shots...",
        description: "Analyzing video for scene changes and transitions",
        duration: 3000,
        progress: 23
    },
    {
        title: "Sampling keyframes...",
        description: "Extracting representative frames from each shot",
        duration: 2500,
        progress: 45
    },
    {
        title: "Loading CLIP...",
        description: "Initializing vision-language model",
        duration: 2000,
        progress: 67
    },
    {
        title: "Embedding...",
        description: "Generating feature vectors for analysis",
        duration: 3500,
        progress: 89
    },
    {
        title: "Done",
        description: "Analysis complete - generating report",
        duration: 1000,
        progress: 100
    }
];

let currentStepIndex = 0;
let processingInterval;
let isProcessing = true;

function updateStep(stepIndex) {
    const step = steps[stepIndex];
    
    // Update current step display
    document.getElementById('step-title').textContent = step.title;
    document.getElementById('step-description').textContent = step.description;
    document.getElementById('step-progress').textContent = step.progress + '%';
    document.getElementById('progress-bar').style.width = step.progress + '%';
    
    // Update time remaining
    const remainingSteps = steps.length - stepIndex - 1;
    const avgTime = 2.5; // minutes
    const timeLeft = remainingSteps * avgTime;
    document.getElementById('time-remaining').textContent = `~${Math.ceil(timeLeft)} min ${Math.floor((timeLeft % 1) * 60)} sec`;
    
    // Update step status in overview
    for (let i = 0; i <= stepIndex; i++) {
        const stepElement = document.getElementById(`step-${i + 1}`);
        if (i < stepIndex) {
            // Completed step
            stepElement.className = 'bg-dark-700 rounded-xl p-4 border-l-4 border-green-500 border border-dark-600';
            const icon = stepElement.querySelector('.w-8 > *');
            icon.outerHTML = '<i class="fa-solid fa-check text-white"></i>';
            stepElement.querySelector('.text-blue-400, .text-gray-500').textContent = 'Complete';
            stepElement.querySelector('.text-blue-400, .text-gray-500').className = 'text-green-400 text-sm font-medium';
        } else if (i === stepIndex) {
            // Current step
            stepElement.className = 'bg-dark-700 rounded-xl p-4 border-l-4 border-blue-500 border border-dark-600';
            stepElement.querySelector('.text-gray-500, .text-green-400').textContent = 'In Progress';
            stepElement.querySelector('.text-gray-500, .text-green-400').className = 'text-blue-400 text-sm font-medium';
        }
    }
    
    // Update stats
    if (stepIndex >= 0) {
        document.getElementById('shots-detected').textContent = Math.min(12 + stepIndex * 3, 18);
    }
    if (stepIndex >= 1) {
        document.getElementById('keyframes-extracted').textContent = Math.min(47 + stepIndex * 15, 89);
    }
    if (stepIndex >= 3) {
        document.getElementById('embeddings-generated').textContent = Math.min(stepIndex * 25, 89);
    }
    if (stepIndex >= 4) {
        document.getElementById('accuracy-score').textContent = '94.7%';
    }
    
    // Add log entry
    addLogEntry(step.title);
}

function addLogEntry(message) {
    const log = document.querySelector('#processing-log .space-y-3');
    const time = new Date().toLocaleTimeString();
    
    const entry = document.createElement('div');
    entry.className = 'flex items-start space-x-3';
    entry.innerHTML = `
        <div class="w-2 h-2 bg-blue-500 rounded-full mt-2 animate-pulse"></div>
        <div class="flex-1">
            <p class="text-white text-sm">${message}</p>
            <p class="text-gray-400 text-xs">${time}</p>
        </div>
    `;
    
    log.appendChild(entry);
    log.scrollTop = log.scrollHeight;
}

function updateVideoInfo(name, duration, size) {
    document.getElementById('video-name').textContent = name;
    document.getElementById('video-info').textContent = `Duration: ${duration} • Size: ${size}`;
}

function loadVideoFile(videoPath) {
    const videoPlayer = document.getElementById('video-player');
    const videoSource = document.getElementById('video-source');
    const videoOverlay = document.getElementById('video-overlay');
    
    // Set video source
    videoSource.src = videoPath;
    videoPlayer.load();
    
    // Hide overlay when video is ready
    videoPlayer.addEventListener('loadedmetadata', () => {
        videoOverlay.style.display = 'none';
        addLogEntry(`Video loaded: ${videoPath}`);
    });
    
    // Show overlay when video is paused
    videoPlayer.addEventListener('pause', () => {
        videoOverlay.style.display = 'flex';
    });
    
    // Hide overlay when video is playing
    videoPlayer.addEventListener('play', () => {
        videoOverlay.style.display = 'none';
    });
    
    // Handle video errors
    videoPlayer.addEventListener('error', (e) => {
        console.error('Video error:', e);
        addLogEntry(`Video loading error: ${videoPath}`);
        videoOverlay.style.display = 'flex';
    });
}

function playVideo() {
    const videoPlayer = document.getElementById('video-player');
    videoPlayer.play().catch(e => {
        console.error('Playback error:', e);
        addLogEntry('Video playback failed');
    });
}

function pauseVideo() {
    const videoPlayer = document.getElementById('video-player');
    videoPlayer.pause();
}

function updateRealResourceUsage(cpuUsage, memoryUsageMB, batteryLevel, temperature) {
    console.log('Updating resource usage:', {cpuUsage, memoryUsageMB, batteryLevel, temperature});
    
    // Update CPU usage in System Resources section
    const cpuPercent = Math.round(cpuUsage);
    const cpuCircle = document.getElementById('cpu-circle');
    const cpuPercentText = document.getElementById('cpu-percent');
    if (cpuCircle) {
        cpuCircle.setAttribute('stroke-dasharray', `${cpuPercent}, 100`);
    }
    if (cpuPercentText) {
        cpuPercentText.textContent = cpuPercent + '%';
    }
    
    // Update Memory usage in System Resources section
    const memoryPercent = Math.round((memoryUsageMB / 4096) * 100); // Assuming 4GB total memory
    const memoryCircle = document.getElementById('memory-circle');
    const memoryPercentText = document.getElementById('memory-percent');
    if (memoryCircle) {
        memoryCircle.setAttribute('stroke-dasharray', `${memoryPercent}, 100`);
    }
    if (memoryPercentText) {
        memoryPercentText.textContent = memoryPercent + '%';
    }
    
    // Update battery level in System Resources section
    const batteryElement = document.getElementById('battery-level');
    if (batteryElement) {
        batteryElement.textContent = batteryLevel + '%';
    }
    
    // Update temperature in System Resources section
    const tempElement = document.getElementById('device-temperature');
    if (tempElement) {
        tempElement.textContent = Math.round(temperature) + '°C';
    }
    
    // Update memory usage in System Resources section
    const memoryUsageElement = document.getElementById('memory-usage');
    if (memoryUsageElement) {
        memoryUsageElement.textContent = memoryUsageMB + ' MB';
    }
    
    // Also update the processing details section (if it exists)
    const cpuTextElement = document.querySelector('#processing-details .text-gray-400');
    const cpuBarElement = document.querySelector('#processing-details .bg-blue-500');
    if (cpuTextElement) {
        cpuTextElement.textContent = cpuPercent + '%';
    }
    if (cpuBarElement) {
        cpuBarElement.style.width = cpuPercent + '%';
    }
    
    const memoryTextElements = document.querySelectorAll('#processing-details .text-gray-400');
    const memoryBarElement = document.querySelector('#processing-details .bg-purple-500');
    if (memoryTextElements.length > 1) {
        memoryTextElements[1].textContent = `${memoryUsageMB} MB / 4 GB`;
    }
    if (memoryBarElement) {
        memoryBarElement.style.width = memoryPercent + '%';
    }
    
    const storageText = `${Math.round(memoryUsageMB * 0.1)} MB processed`;
    if (memoryTextElements.length > 2) {
        memoryTextElements[2].textContent = storageText;
    }
    
    // Add log entry for resource updates (less frequent to avoid spam)
    const now = Date.now();
    if (!window.lastResourceLog || now - window.lastResourceLog > 10000) { // Log every 10 seconds
        addLogEntry(`Resources: CPU ${cpuPercent}%, Memory ${memoryUsageMB}MB, Battery ${batteryLevel}%, Temp ${Math.round(temperature)}°C`);
        window.lastResourceLog = now;
    }
}

function startProcessing() {
    processingInterval = setInterval(() => {
        if (currentStepIndex < steps.length && isProcessing) {
            updateStep(currentStepIndex);
            
            if (currentStepIndex === steps.length - 1) {
                // Processing complete
                setTimeout(() => {
                    document.getElementById('step-title').textContent = 'Processing Complete!';
                    document.getElementById('step-description').textContent = 'Analysis finished. Results are ready for review.';
                    document.querySelector('#current-step .w-6').outerHTML = '<i class="fa-solid fa-check text-green-500 text-xl"></i>';
                    
                    // Show completion options
                    const controlActions = document.getElementById('control-actions');
                    controlActions.innerHTML = `
                        <button class="bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-xl flex items-center justify-center space-x-2 transition-colors" onclick="viewResults()">
                            <i class="fa-solid fa-eye"></i>
                            <span>View Results</span>
                        </button>
                        <button class="bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-4 rounded-xl flex items-center justify-center space-x-2 transition-colors" onclick="newAnalysis()">
                            <i class="fa-solid fa-redo"></i>
                            <span>New Analysis</span>
                        </button>
                    `;
                }, 1000);
                
                clearInterval(processingInterval);
            }
            
            currentStepIndex++;
        }
    }, 3000);
}

function viewResults() {
    if (window.AndroidInterface) {
        window.AndroidInterface.viewResults();
    } else {
        console.log('View results');
    }
}

function newAnalysis() {
    if (window.AndroidInterface) {
        window.AndroidInterface.newAnalysis();
    } else {
        console.log('New analysis');
    }
}

function startClipProcessing() {
    addLogEntry('Starting CLIP embedding processing...');
    
    // Reset processing state
    currentStepIndex = 0;
    isProcessing = true;
    
    // Update step 3 (Loading CLIP) to be the current step
    setTimeout(() => {
        updateStep(2); // Skip to CLIP loading step
        addLogEntry('CLIP model loaded successfully');
        
        // Move to embedding step
        setTimeout(() => {
            updateStep(3); // Embedding step
            addLogEntry('Generating CLIP embeddings for video frames...');
            
            // Simulate embedding generation
            let embeddingCount = 0;
            const embeddingInterval = setInterval(() => {
                embeddingCount += 5;
                document.getElementById('embeddings-generated').textContent = embeddingCount;
                
                if (embeddingCount >= 89) {
                    clearInterval(embeddingInterval);
                    addLogEntry('CLIP embeddings generated successfully');
                    
                    // Complete processing
                    setTimeout(() => {
                        updateStep(4); // Final analysis
                        addLogEntry('CLIP analysis complete - generating insights');
                        
                        setTimeout(() => {
                            document.getElementById('step-title').textContent = 'CLIP Analysis Complete!';
                            document.getElementById('step-description').textContent = 'Video embeddings generated successfully. Ready for content analysis.';
                            document.querySelector('#current-step .w-6').outerHTML = '<i class="fa-solid fa-check text-green-500 text-xl"></i>';
                            document.getElementById('accuracy-score').textContent = '94.7%';
                            
                            // Show completion options
                            const controlActions = document.getElementById('control-actions');
                            controlActions.innerHTML = `
                                <button class="bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-xl flex items-center justify-center space-x-2 transition-colors" onclick="viewResults()">
                                    <i class="fa-solid fa-eye"></i>
                                    <span>View CLIP Results</span>
                                </button>
                                <button class="bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-4 rounded-xl flex items-center justify-center space-x-2 transition-colors" onclick="newAnalysis()">
                                    <i class="fa-solid fa-redo"></i>
                                    <span>New Analysis</span>
                                </button>
                            `;
                        }, 1000);
                    }, 2000);
                }
            }, 200);
        }, 2000);
    }, 1000);
}

// Control buttons
document.getElementById('pause-btn').addEventListener('click', function() {
    if (isProcessing) {
        isProcessing = false;
        clearInterval(processingInterval);
        this.innerHTML = '<i class="fa-solid fa-play"></i><span>Resume</span>';
        this.className = 'bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-xl flex items-center justify-center space-x-2 transition-colors';
        addLogEntry('Processing paused by user');
    } else {
        isProcessing = true;
        startProcessing();
        this.innerHTML = '<i class="fa-solid fa-pause"></i><span>Pause</span>';
        this.className = 'bg-yellow-600 hover:bg-yellow-700 text-white font-semibold py-3 px-4 rounded-xl flex items-center justify-center space-x-2 transition-colors';
        addLogEntry('Processing resumed');
    }
});

document.getElementById('cancel-btn').addEventListener('click', function() {
    if (confirm('Are you sure you want to cancel the analysis?')) {
        isProcessing = false;
        clearInterval(processingInterval);
        addLogEntry('Processing cancelled by user');
        
        // Reset to initial state
        setTimeout(() => {
            goBack();
        }, 1000);
    }
});

// Auto-load video_v1.mp4 and start CLIP processing
setTimeout(() => {
    // Update video info
    document.getElementById('video-name').textContent = 'video_v1.mp4';
    document.getElementById('video-info').textContent = 'Duration: 2:15 • Size: 375 MB';
    
    // Add log entry for video loading
    addLogEntry('Auto-loading video_v1.mp4 (375MB)');
    
    // Try to load video from Android assets
    const videoPath = 'file:///android_asset/video_v1.mp4';
    loadVideoFile(videoPath);
    
    // If that fails, try alternative paths
    setTimeout(() => {
        const videoPlayer = document.getElementById('video-player');
        if (videoPlayer.error) {
            addLogEntry('Failed to load video from assets, trying alternative path...');
            // Try loading from test assets
            loadVideoFile('./test/assets/video_v1.mp4');
        }
    }, 2000);
    
    // Start CLIP processing after video loading attempt
    setTimeout(() => {
        addLogEntry('Video loaded successfully');
        startClipProcessing();
    }, 3000);
}, 500);

// Real resource monitoring is now handled by Android
// Commenting out simulated resource updates
/*
// Update resource usage periodically
setInterval(() => {
    const cpuUsage = Math.floor(Math.random() * 20) + 60; // 60-80%
    const memoryUsage = Math.floor(Math.random() * 15) + 45; // 45-60%
    
    // Update CPU circle
    const cpuPath = document.querySelector('svg path:nth-child(2)');
    cpuPath.setAttribute('stroke-dasharray', `${cpuUsage}, 100`);
    document.querySelector('svg + div span').textContent = cpuUsage + '%';
    
    // Update Memory circle  
    const memoryPath = document.querySelectorAll('svg path:nth-child(2)')[1];
    memoryPath.setAttribute('stroke-dasharray', `${memoryUsage}, 100`);
    document.querySelectorAll('svg + div span')[1].textContent = memoryUsage + '%';
    
    // Update text values
    document.querySelector('#processing-details .text-gray-400:first-of-type').nextElementSibling.textContent = cpuUsage + '%';
}, 2000);
*/

// Android interface functions
window.updateVideoInfo = function(name, duration, size) {
    document.getElementById('video-name').textContent = name;
    document.getElementById('video-info').textContent = `Duration: ${duration} • Size: ${size}`;
};

window.updateProgress = function(progress, stepTitle, stepDescription) {
    document.getElementById('step-progress').textContent = progress + '%';
    document.getElementById('progress-bar').style.width = progress + '%';
    document.getElementById('step-title').textContent = stepTitle;
    document.getElementById('step-description').textContent = stepDescription;
};

window.addLogMessage = function(message) {
    addLogEntry(message);
};
</script>

</body>
</html>
